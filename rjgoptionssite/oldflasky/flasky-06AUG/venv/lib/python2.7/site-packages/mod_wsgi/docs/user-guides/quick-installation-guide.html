

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick Installation Guide &mdash; mod_wsgi 4.5.17 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="mod_wsgi 4.5.17 documentation" href="../index.html"/>
        <link rel="up" title="User Guides" href="../user-guides.html"/>
        <link rel="next" title="Installation On MacOS X" href="installation-on-macosx.html"/>
        <link rel="prev" title="User Guides" href="../user-guides.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> mod_wsgi
          

          
          </a>

          
            
            
              <div class="version">
                4.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../project-status.html">Project Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-issues.html">Security Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../user-guides.html">User Guides</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Quick Installation Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#apache-requirements">Apache Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-requirements">Python Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unpacking-the-source-code">Unpacking The Source Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-the-source-code">Configuring The Source Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-the-source-code">Building The Source Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loading-module-into-apache">Loading Module Into Apache</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restart-apache-web-server">Restart Apache Web Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cleaning-up-after-build">Cleaning Up After Build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="installation-on-macosx.html">Installation On MacOS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="quick-configuration-guide.html">Quick Configuration Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration-guidelines.html">Configuration Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation-issues.html">Installation Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration-issues.html">Configuration Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="application-issues.html">Application Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="frequently-asked-questions.html">Frequently Asked Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="checking-your-installation.html">Checking Your Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging-techniques.html">Debugging Techniques</a></li>
<li class="toctree-l2"><a class="reference internal" href="processes-and-threading.html">Processes And Threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="reloading-source-code.html">Reloading Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="virtual-environments.html">Virtual Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control-mechanisms.html">Access Control Mechanisms</a></li>
<li class="toctree-l2"><a class="reference internal" href="file-wrapper-extension.html">File Wrapper Extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="registering-cleanup-code.html">Registering Cleanup Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="assorted-tips-and-tricks.html">Assorted Tips And Tricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="issues-with-pickle-module.html">Issues With Pickle Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="issues-with-expat-library.html">Issues With Expat Library</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../finding-help.html">Finding Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting-bugs.html">Reporting Bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source-code.html">Source Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">mod_wsgi</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../user-guides.html">User Guides</a> &raquo;</li>
      
    <li>Quick Installation Guide</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/user-guides/quick-installation-guide.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quick-installation-guide">
<h1>Quick Installation Guide<a class="headerlink" href="#quick-installation-guide" title="Permalink to this headline">¶</a></h1>
<p>This document describes the steps for installing mod_wsgi on a UNIX system
from the original source code.</p>
<div class="section" id="apache-requirements">
<h2>Apache Requirements<a class="headerlink" href="#apache-requirements" title="Permalink to this headline">¶</a></h2>
<p>Apache 2.0, 2.2 or 2.4 can be used.</p>
<p>For Apache 2.0, 2.2 and 2.4, the single threaded &#8216;prefork&#8217; or multithreaded
&#8216;worker&#8217; Apache MPMs can be used. For Apache 2.4 the &#8216;event&#8217; MPM can also
be used.</p>
<p>The version of Apache and its runtime libraries must have be compiled with
support for threading.</p>
<p>On Linux systems, if Apache has been installed from a package repository,
you must have installed the corresponding Apache &#8220;dev&#8221; package as well.</p>
<p>For most Linux distributions, the &#8220;dev&#8221; package for Apache 2.X is
&#8220;apache2-dev&#8221; where the corresponding Apache package was &#8220;apache2&#8221;. Some
systems however distinguish the &#8220;dev&#8221; package based on which MPM is used by
Apache. As such, it may also be called &#8220;apache2-worker-dev&#8221; or
&#8220;apache2-prefork-dev&#8221;. If using Apache 2.X, do not mix things up and install
&#8220;apache-dev&#8221; by mistake, which is the &#8220;dev&#8221; package for Apache 1.3 called
just &#8220;apache&#8221;.</p>
</div>
<div class="section" id="python-requirements">
<h2>Python Requirements<a class="headerlink" href="#python-requirements" title="Permalink to this headline">¶</a></h2>
<p>Any Python 2.X version from Python 2.6 onwards can be used. For Python 3.X,
you will need Python 3.3 or later.</p>
<p>The version of Python being used must have been compiled with support for
threading.</p>
<p>On Linux systems, if Python has been installed from a package repository,
you must have installed the corresponding Python &#8220;dev&#8221; package as well.</p>
<p>Python should preferably be available as a shared library. If this is not
the case then base runtime memory usage of mod_wsgi will be greater.</p>
</div>
<div class="section" id="unpacking-the-source-code">
<h2>Unpacking The Source Code<a class="headerlink" href="#unpacking-the-source-code" title="Permalink to this headline">¶</a></h2>
<p>Source code tar balls can be obtained from:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://github.com/GrahamDumpleton/mod_wsgi/releases">https://github.com/GrahamDumpleton/mod_wsgi/releases</a></li>
</ul>
</div></blockquote>
<p>After having downloaded the tar ball for the version you want to use,
unpack it with the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">tar</span> <span class="n">xvfz</span> <span class="n">mod_wsgi</span><span class="o">-</span><span class="n">X</span><span class="o">.</span><span class="n">Y</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<p>Replace &#8216;X.Y&#8217; with the actual version number for that being used.</p>
</div>
<div class="section" id="configuring-the-source-code">
<h2>Configuring The Source Code<a class="headerlink" href="#configuring-the-source-code" title="Permalink to this headline">¶</a></h2>
<p>To setup the package ready for building run the &#8220;configure&#8221; script from
within the source code directory:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">configure</span>
</pre></div>
</div>
<p>The configure script will attempt to identify the Apache installation to
use by searching in various standard locations for the Apache build tools
included with your distribution called &#8220;apxs2&#8221; or &#8220;apxs&#8221;. If not found in
any of these standard locations, your PATH will be searched.</p>
<p>Which Python installation to use will be determined by looking for the
&#8220;python&#8221; executable in your PATH.</p>
<p>If these programs are not in a standard location, they cannot be found in
your PATH, or you wish to use alternate versions to those found, the
<code class="docutils literal"><span class="pre">--with-apxs</span></code> and <code class="docutils literal"><span class="pre">--with-python</span></code> options can be used in conjunction with
the &#8220;configure&#8221; script:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">configure</span> <span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">apxs</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">apache</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">apxs</span> \
  <span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">python</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python</span>
</pre></div>
</div>
<p>On some Linux distributions, such as SUSE and CentOS, it will be necessary
to use the <code class="docutils literal"><span class="pre">--with-apxs</span></code> option and specify either &#8220;/usr/sbin/apxs2-worker&#8221;
or &#8220;/usr/sbin/apxs2-prefork&#8221;. This is necessary as the Linux distribtions
allow installation of &#8220;dev&#8221; packages for both Apache MPM variants at the
same time, whereas other Linux distributions do not.</p>
<p>If you have multiple versions of Python installed and you are not using
that which is the default, you may have to organise that the PATH inherited
by the Apache application when run will result in Apache finding the
alternate version. Alternatively, the WSGIPythonHome directive should
be used to specify the exact location of the Python installation
corresponding to the version of Python compiled against. If this is not
done, the version of Python running within Apache may attempt to use the
Python modules from the wrong version of Python.</p>
</div>
<div class="section" id="building-the-source-code">
<h2>Building The Source Code<a class="headerlink" href="#building-the-source-code" title="Permalink to this headline">¶</a></h2>
<p>Once the package has been configured, it can be built by running:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span>
</pre></div>
</div>
<p>If the mod_wsgi source code does not build successfully, see:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="installation-issues.html"><span class="doc">Installation Issues</span></a></li>
</ul>
</div></blockquote>
<p>If successful, the only product of the build process that needs to be
installed is the Apache module itself. There are no separate Python code
files as everything is done within C code compiled into the Apache module.</p>
<p>To install the Apache module into the standard location for Apache modules
as dictated by Apache for your installation, run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>Installation should be done as the &#8216;root&#8217; user or &#8216;sudo&#8217; command if
appropriate.</p>
<p>If you want to install the Apache module in a non standard location
dictated by how your operating system distribution structures the
configuration files and modules for Apache, you will need to copy the file
manually into place.</p>
<p>If installing the Apache module by hand, the file is called &#8216;mod_wsgi.so&#8217;.
The compiled Apache module can be found in the &#8221;.libs&#8221; subdirectory. The
name of the file should be kept the same when copied into its appropriate
location.</p>
</div>
<div class="section" id="loading-module-into-apache">
<h2>Loading Module Into Apache<a class="headerlink" href="#loading-module-into-apache" title="Permalink to this headline">¶</a></h2>
<p>Once the Apache module has been installed into your Apache installation&#8217;s
module directory, it is still necessary to configure Apache to actually
load the module.</p>
<p>Exactly how this is done and in which of the main Apache configuration
files it should be placed, is dependent on which version of Apache you are
using and may also be influenced by how your operating system&#8217;s Apache
distribution has organised the Apache configuration files. You may
therefore need to check with any documentation for your operating system to
see in what way the procedure may need to be modified.</p>
<p>In the simplest case, all that is required is to add a line of the form:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LoadModule</span> <span class="n">wsgi_module</span> <span class="n">modules</span><span class="o">/</span><span class="n">mod_wsgi</span><span class="o">.</span><span class="n">so</span>
</pre></div>
</div>
<p>into the main Apache &#8220;httpd.conf&#8221; configuration file at the same point that
other Apache modules are being loaded. The last option to the directive
should either be an absolute path to where the mod_wsgi module file is
located, or a path expressed relative to the root of your Apache
installation. If you used &#8220;make&#8221; to install the package, see where it
copied the file to work out what to set this value to.</p>
</div>
<div class="section" id="restart-apache-web-server">
<h2>Restart Apache Web Server<a class="headerlink" href="#restart-apache-web-server" title="Permalink to this headline">¶</a></h2>
<p>Having adding the required directives you should perform a restart of
Apache to check everything is okay. If you are using an unmodified Apache
distribution from the Apache Software Foundation, a restart is performed
using the &#8216;apachectl&#8217; command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">apachectl</span> <span class="n">restart</span>
</pre></div>
</div>
<p>If you see any sort of problem, or if you are upgrading from an older
version of mod_wsgi, it is recommended you actually stop and the start
Apache instead:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">apachectl</span> <span class="n">stop</span>
<span class="n">apachectl</span> <span class="n">start</span>
</pre></div>
</div>
<p>Note that on many Linux distributions where Apache is prepackaged, the
Apache software has been modified and as a result the &#8216;apachectl&#8217; command
may not work properly or the command may not be present. On these systems,
you will need to use whatever is the sanctioned method for restarting
system services.</p>
<p>This may be via an &#8216;init.d&#8217; script:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">httpd</span> <span class="n">stop</span>
<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">httpd</span> <span class="n">start</span>
</pre></div>
</div>
<p>or via some special service maintenance script.</p>
<p>On Debian derived distributions, restarting Apache is usually done via the
&#8216;invoke-rc.d&#8217; command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">invoke</span><span class="o">-</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span> <span class="n">apache2</span> <span class="n">stop</span>
<span class="n">invoke</span><span class="o">-</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span> <span class="n">apache2</span> <span class="n">start</span>
</pre></div>
</div>
<p>On RedHat derived distributions, restarting Apache is usually done via the
&#8216;service&#8217; command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">service</span> <span class="n">httpd</span> <span class="n">stop</span>
<span class="n">service</span> <span class="n">httpd</span> <span class="n">start</span>
</pre></div>
</div>
<p>In nearly all cases the scripts used to restart Apache will need to be run
as the &#8216;root&#8217; user or via &#8216;sudo&#8217;.</p>
<p>In general, for any system where you are using a prepackaged version of
Apache, it is wise to always check the documentation for that package or
system to determine the correct way to restart the Apache service. This is
because they often use a wrapper around &#8216;apachectl&#8217;, or replace it, with a
script which performs additional actions.</p>
<p>If all is okay, you should see a line of the form:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Apache</span><span class="o">/</span><span class="mf">2.4</span><span class="o">.</span><span class="mi">8</span> <span class="p">(</span><span class="n">Unix</span><span class="p">)</span> <span class="n">mod_wsgi</span><span class="o">/</span><span class="mf">4.4</span><span class="o">.</span><span class="mi">21</span> <span class="n">Python</span><span class="o">/</span><span class="mf">2.7</span> <span class="n">configured</span>
</pre></div>
</div>
<p>in the Apache error log file.</p>
</div>
<div class="section" id="cleaning-up-after-build">
<h2>Cleaning Up After Build<a class="headerlink" href="#cleaning-up-after-build" title="Permalink to this headline">¶</a></h2>
<p>To cleanup after installation, run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">clean</span>
</pre></div>
</div>
<p>If you need to build the module for a different version of Apache, you
should run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">distclean</span>
</pre></div>
</div>
<p>and then rerun &#8220;configure&#8221; against the alternate version of Apache before
attempting to run &#8220;make&#8221; again.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="installation-on-macosx.html" class="btn btn-neutral float-right" title="Installation On MacOS X" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../user-guides.html" class="btn btn-neutral" title="User Guides" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2007-2017, Graham Dumpleton.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'4.5.17',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>